(()=>{var e={228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}},858:e=>{e.exports=function(e){if(Array.isArray(e))return e}},646:(e,t,n)=>{var i=n(228);e.exports=function(e){if(Array.isArray(e))return i(e)}},575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},226:e=>{e.exports=function(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}},913:e=>{function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}e.exports=function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}},713:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},860:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},884:e=>{e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==s.return||s.return()}finally{if(o)throw r}}return n}}},521:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},206:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},38:(e,t,n)=>{var i=n(858),o=n(884),r=n(323),a=n(521);e.exports=function(e,t){return i(e)||o(e,t)||r(e,t)||a()}},319:(e,t,n)=>{var i=n(646),o=n(860),r=n(323),a=n(206);e.exports=function(e){return i(e)||o(e)||r(e)||a()}},8:e=>{function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t},323:(e,t,n)=>{var i=n(228);e.exports=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}},63:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(645),o=n.n(i)()((function(e){return e[1]}));o.push([e.id,'*{padding:0;margin:0;border:0}*,*:before,*:after{box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}a:focus,a:active{outline:none}nav,footer,header,aside{display:block}html,body{height:100%;width:100%;font-size:100%;line-height:1;font-size:16px;-ms-text-size-adjust:100%;-moz-text-size-adjust:100%;-webkit-text-size-adjust:100%}input,button,textarea{font-family:inherit}input::-ms-clear{display:none}button{cursor:pointer}button::-moz-focus-inner{padding:0;border:0}a,a:visited{text-decoration:none}a:hover{text-decoration:none}ul li{list-style:none}img{vertical-align:top}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:400}html,body{font-size:10px}body{position:relative;font-family:Arial;display:block}.puzzle{width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;min-width:32rem;min-height:51rem}.puzzle__wrapper{display:flex;justify-content:center;flex-direction:column;color:white;min-width:32rem;width:100%;max-width:80rem}.puzzle__gamefield{background-color:#00c3b3;margin:0.4rem;border-radius:10px}.puzzle__info,.puzzle__footer{padding:0 0.8rem;display:flex;align-items:center;justify-content:center;font-size:2rem;font-weight:900;line-height:5rem;box-shadow:inset 0 2px 4px 0 rgba(0,0,0,0.08);background-color:#00c3b3;border-radius:10px}@media screen and (max-width: 501px){.puzzle__info,.puzzle__footer{font-size:1.6rem;font-weight:600}}.puzzle__field{display:grid;grid-gap:2px;max-width:400px;margin:0 auto;grid-auto-rows:1fr;padding:0.4rem;z-index:1}.puzzle__row{display:flex;align-items:center;justify-content:center;flex:1 1 4rem}.puzzle__col{display:flex;align-items:center;justify-content:center;flex:1 1 4rem;color:white;background-color:#353535;box-shadow:inset 0 2px 4px 0 rgba(0,0,0,0.08);border-radius:15px;cursor:pointer}.puzzle__sound{display:flex;align-items:center}.puzzle__sound i{margin-left:1rem;cursor:pointer}.puzzle__sound i:hover{background:radial-gradient(circle, #3f5efb 0%, #fc466b 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 5s linear infinite}.puzzle__footer{justify-content:space-around}.puzzle__solver{cursor:pointer}@media screen and (max-width: 501px){.puzzle__solver{line-height:2rem}}.puzzle__solver:hover{background:radial-gradient(circle, #3f5efb 0%, #fc466b 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 5s linear infinite}.info__time,.info__moves,.info__menu{flex-grow:1;text-align:center}.info__menu{cursor:pointer}.puzzle__field::before{content:\'\';width:0;padding-bottom:100%;grid-row:1 / 1;grid-column:1 / 1}.puzzle__field>*:first-child{grid-row:1 / 1;grid-column:1 / 1}.puzzle__col .col{height:90%;width:90%;box-shadow:inset 0 2px 4px 0 rgba(0,0,0,0.08);border-radius:15px;display:flex;align-items:center;justify-content:center;background-color:#353535;font-size:2rem}.puzzle__col:hover,.puzzle__col-active{background:#3f5efb;background:radial-gradient(circle, #3f5efb 0%, #fc466b 100%);animation:puzzle__col 50s linear infinite}.puzzle__col-null:hover{background-color:inherit;box-shadow:inherit}[data-numb="0"],.puzzle__col-null{background-color:inherit;box-shadow:inherit;color:#00c3b3;cursor:inherit}[data-numb="0"]>.col,.puzzle__col-null>.col{background-color:inherit;box-shadow:inherit;color:inherit;cursor:inherit}[data-numb="0"]>.col:hover,.puzzle__col-null>.col:hover{background-color:inherit;box-shadow:inherit;animation:none}[data-numb="0"]:hover,.puzzle__col-null:hover{background:inherit;box-shadow:inherit}.drag{position:absolute;z-index:1000}[data-cells-count="9"]{grid-template-columns:repeat(3, 1fr)}[data-cells-count="16"]{grid-template-columns:repeat(4, 1fr)}[data-cells-count="25"]{grid-template-columns:repeat(5, 1fr)}[data-cells-count="36"]{grid-template-columns:repeat(6, 1fr)}[data-cells-count="49"]{grid-template-columns:repeat(7, 1fr)}[data-cells-count="64"]{grid-template-columns:repeat(8, 1fr)}.transition{transition:all 0.4s ease-in-out}.menu{display:none;position:absolute;width:100%;height:100%;transition:all 0.4s;z-index:10;background:rgba(41,41,41,0.6);overflow:hidden;top:0;justify-content:center;padding:3rem 0}.menu-show{display:flex}.menu__wrapper{display:flex;flex-direction:column;align-items:center}.menu__nav{display:flex;flex-grow:1;transition:all 0.4s}.menu__list{transition:all 0.4s}.menu__list{display:flex;align-items:center;flex-direction:column;justify-content:space-around}.menu__item{font-weight:900;font-size:3rem;line-height:50px;color:#FAFAFA;cursor:pointer}.menu__item:hover{background:radial-gradient(circle, #3f5efb 0%, #fc466b 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 5s linear infinite}.menu__saveGame,.menu__newGame{height:50%;display:flex;justify-content:center;align-items:center;transition:all 0.4s;flex-grow:1}.menu__saveGame h2,.menu__newGame h2{font-size:4rem;font-weight:900;background:radial-gradient(circle, #3f5efb 0%, #fc466b 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 5s linear infinite}@media screen and (max-width: 501px){.menu__saveGame h2,.menu__newGame h2{text-align:center}}.menu__back{font-size:4rem;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}.menu__back:hover{background:radial-gradient(circle, #3f5efb 0%, #fc466b 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 5s linear infinite}.position-relative{position:relative}.hidden{position:absolute;margin-top:-1000vh;flex-grow:0}@keyframes puzzle__col{to{background-position:0 -1000vh}}@keyframes shine{to{background-position:200% center}}[data-action="menu"]:hover{background:radial-gradient(circle, #3f5efb 0%, #fc466b 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 5s linear infinite}.load{display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:space-between}.load__content{display:flex;flex-direction:column;align-items:center}.load__games{margin:2rem 0}.load__back{font-size:4rem;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer}.load__back:hover{background:radial-gradient(circle, #3f5efb 0%, #fc466b 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 5s linear infinite}.load__title{font-size:4rem;font-weight:900;margin-bottom:2rem}@media screen and (max-width: 501px){.load__title{font-size:2.5rem;font-weight:900}}.load__subtitle{font-size:2.5rem;font-weight:900}@media screen and (max-width: 501px){.load__subtitle{font-size:2rem;font-weight:700}}.load__btb{cursor:pointer;font-size:2.5rem;font-weight:900}@media screen and (max-width: 501px){.load__btb{font-size:2rem;font-weight:700}}.load__btb:hover{background:radial-gradient(circle, #3f5efb 0%, #fc466b 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 5s linear infinite}.load__btb-disabled{background:radial-gradient(circle, gray 0%, gray 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.load__btb-disabled:hover{background:radial-gradient(circle, gray 0%, gray 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.game{--font: 2rem;display:flex;flex-direction:column;align-items:center}.game__prev,.game__next{height:4rem;width:4rem}.game__prev::before,.game__next::before{position:absolute;z-index:-1;left:0;content:\'\';background:white;-webkit-mask:url(\'data:image/svg+xml; utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18px" height="18px"> <path d="M8 5v14l11-7z"/></svg>\') center/contain;mask:url(\'data:image/svg+xml; utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18px" height="18px"> <path d="M8 5v14l11-7z"/></svg>\') center/contain;height:calc(var(--font) * 2);width:calc(var(--font) * 2);cursor:pointer}.game__prev{transform:rotate(270deg)}.game__next{transform:rotate(90deg)}.game__prev:hover::before,.game__next:hover::before{background:linear-gradient(to right, #3f5efb, #fc466b) left/200% 100%;animation:shine 5s linear infinite}.game__prev-inactive::before,.game__next-inactive::before{background:gray}.game__prev-inactive:hover::before,.game__next-inactive:hover::before{background:gray}.game__list{position:relative}.game__item{--font: 2rem;--size: 200%;font-size:var(--font);line-height:var(--size);font-weight:700;cursor:pointer;transition:all 0.4s;position:relative;display:flex;align-items:center;position:absolute;top:-100vh}.game__item-active{top:0;position:inherit}.game__item-active:hover,.game__item-active-active{background:radial-gradient(circle, #3f5efb 0%, #fc466b 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 5s linear infinite}.item+.item{margin-left:1rem}.settings{display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:space-between}.settings__title{font-size:4rem;font-weight:900}.settings__sizes{margin-bottom:2rem}.settings__sizes,.settings__type{font-size:2.5rem;font-weight:700}.settings__sizes select,.settings__type select{font-size:2.5rem;font-weight:700;margin-left:2rem;background:inherit;color:white}.settings__sizes selectselect::-ms-expand,.settings__type selectselect::-ms-expand{background:inherit;color:white}.settings__sizes select option,.settings__type select option{background:#2e2e2e;color:white}.rules{display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:space-between}.rules__title{font-size:4rem;font-weight:900}.rules__info{font-size:2rem;min-width:25rem;max-width:32rem;text-align:center}.score{display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:space-between}.score__content{display:flex;flex-direction:column;align-items:center}.score__title{font-size:4rem;font-weight:900}@media screen and (max-width: 501px){.score__title{font-size:2.5rem;font-weight:900}}.score__info{font-size:2rem}.score__table{overflow:auto;border-radius:2rem;margin-top:2rem}@media screen and (min-width: 501px){.score__table{max-height:25rem}}.score__table::-webkit-scrollbar{width:1rem}.score__table::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,0.3);border-radius:1rem;margin:2rem 1rem 2rem 0}.score__table::-webkit-scrollbar-thumb{border-radius:1rem;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,0.5)}.score__wrapper{font-size:2rem;display:flex;flex-direction:row;background:rgba(0,0,0,0.4);border-radius:2rem;padding:2rem}.score__row+.score__row{margin-top:2rem}@media screen and (max-width: 501px){.score__row+.score__row{margin-top:0.5rem}}.score__col+.score__col{margin-left:2rem}@media screen and (max-width: 501px){.score__col+.score__col{margin-left:0.5rem}}.score__row{display:flex;flex-direction:row}.score__col{display:flex;flex-direction:column;min-width:10rem;text-align:center}[data-colname="size"]{align-items:center}[data-colname="moves"]{background:radial-gradient(circle, #3f5efb 0%, #fc466b 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 5s linear infinite;font-weight:700;align-items:center;margin-left:0}.popup{position:fixed;top:-1000vh;background:rgba(0,0,0,0.4);color:white;font-size:2rem;width:100vw;height:100vh;z-index:5;display:flex;align-items:center;justify-content:center}.popup__wrapper{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:0 2rem}.popup-visilbe{top:0px;left:0;position:fixed}.popup__content{display:flex;flex-direction:column;justify-content:space-between;align-items:center;animation-duration:2s;animation-name:show}.popup__content h1{font-size:4rem;font-weight:900;background:radial-gradient(circle, #3f5efb 0%, #fc466b 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 5s linear infinite;margin-bottom:1rem}.popup__content h2{font-size:2.5rem;font-weight:700}.popup__close{cursor:pointer}.popup .hidding{animation-duration:2s;animation-name:hide}@keyframes show{from{transform:scale(0.1)}to{transform:scale(1)}}@keyframes hide{from{transform:scale(1)}to{transform:scale(0)}}.show_picture{cursor:pointer}@media screen and (max-width: 501px){.show_picture{line-height:2rem;text-align:center}}.show_picture:hover{background:radial-gradient(circle, #3f5efb 0%, #fc466b 100%);background-size:200% auto;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:shine 5s linear infinite}.showed__picture{width:80%;height:80%}\n',""]);const r=o},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(i)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);i&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},379:(e,t,n)=>{"use strict";var i,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),r=[];function a(e){for(var t=-1,n=0;n<r.length;n++)if(r[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},i=[],o=0;o<e.length;o++){var s=e[o],l=t.base?s[0]+t.base:s[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=a(u),m={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(r[d].references++,r[d].updater(m)):r.push({identifier:u,updater:h(m,t),references:1}),i.push(u)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var c,u=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function m(e,t,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var p=null,f=0;function h(e,t){var n,i,o;if(t.singleton){var r=f++;n=p||(p=l(t)),i=d.bind(null,n,r,!1),o=d.bind(null,n,r,!0)}else n=l(t),i=m.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var o=a(n[i]);r[o].references--}for(var l=s(e,t),c=0;c<n.length;c++){var u=a(n[c]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}n=l}}}}},t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={id:i,exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(379),t=n.n(e),i=n(63);t()(i.Z,{insert:"head",singleton:!1}),i.Z.locals;var o=n(575),r=n.n(o),a=n(713),s=n.n(a),l=n(226),c=n.n(l),u=n(38),d=n.n(u),m=n(8),p=n.n(m),f=n(319),h=n.n(f);function g(e,t,n,i){for(var o,r=arguments.length,a=new Array(r>4?r-4:0),s=4;s<r;s++)a[s-4]=arguments[s];var l=null;try{l=document.createElement(e)}catch(e){throw new Error("Unable to create HTMLElemebnt! Give a correct tag name")}t&&(o=l.classList).add.apply(o,h()(t.split(" ")));try{n&&Array.isArray(n)?n.forEach((function(e){e&&l.appendChild(e)})):n&&"object"===p()(n)?l.appendChild(n):n&&"string"==typeof n?l.innerHTML=n:"number"==typeof n&&(l.innerHTML=n.toString())}catch(e){throw console.log(n),new Error("".concat(e,";    child = ").concat(n,";"))}return i&&i.appendChild(l),a.length&&a.forEach((function(e){var t=d()(e,2),n=t[0],i=t[1];try{""===i?l.setAttribute(n,""):n&&n.toString().match(/value|id|placeholder|cols|rows|autocorrect|spellcheck|src/)?l.setAttribute(n,i):n&&(l.dataset[n]=i)}catch(e){throw console.log(a),new Error("".concat(e,";    dataAttr = ").concat(a,";  attrName=").concat(n,"  attrValue=").concat(i,";"))}})),l}const v={create:g,getNewMatrix:function(e){for(var t=Math.pow(e,.5),n=function(e,n){var i=[{row:n.row,col:n.col-1},{row:n.row,col:n.col+1},{row:n.row-1,col:n.col},{row:n.row+1,col:n.col}],o=[];return i.forEach((function(e){e.row>=0&&e.row<t&&e.col>=0&&e.col<t&&o.push(e.row*t+e.col)})),o},i=[],o=1;o<e;o+=1)i.push(o.toString());i.push("0");for(var r,a,s=Math.pow(t,3),l=0;l<s;l+=1){var c=(void 0,a=(r=i.indexOf("0"))%t,{row:Math.trunc(r/t),col:a,idx:r}),u=n(0,c),d=Math.floor(Math.random()*u.length),m=[i[u[d]],i[c.idx]];i[c.idx]=m[0],i[u[d]]=m[1]}return i},dateInit:function(){Date.prototype.yyyymmdd=function(){return[this.getFullYear(),this.getMonth()<9?"0".concat(this.getMonth()+1):this.getMonth()+1,this.getDate()<10?"0".concat(this.getDate()):this.getDate()].join(".")},Date.prototype.yyyymmddhhmm=function(){return[this.yyyymmdd(),[this.getHours()<10?"0".concat(this.getHours()):this.getHours(),this.getMinutes()<10?"0".concat(this.getMinutes()):this.getMinutes()].join(":")].join(" ")},Date.prototype.yyyymmddhhmmss=function(){return[this.yyyymmddhhmm(),this.getSeconds()<10?"0".concat(this.getSeconds()):this.getSeconds()].join(":")}}},b=function(e,t){window.localStorage.setItem(e,JSON.stringify(t))},_=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{t=JSON.parse(window.localStorage.getItem(e)||n)}catch(e){t=n}return t},z={fieldSizeCode:"4",fieldSizes:[{code:"3",name:"3x3",count:9,size:3},{code:"4",name:"4x4",count:16,size:4},{code:"5",name:"5x5",count:25,size:5},{code:"6",name:"6x6",count:36,size:6},{code:"7",name:"7x7",count:49,size:7},{code:"8",name:"8x8",count:64,size:8}],timer:0,moves:0,types:["numberic","picture"],currTypeIdx:0,savedGames:[],bestScore:[],items:[]};var w=n(913),y=n.n(w);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const S={newGame:function e(){var t=this;return r()(this,e),s()(this,"sectionInit",(function(e,n){t.section?t.section.innerHTML="<h2>".concat(arguments.length<=2?void 0:arguments[2],"</h2>"):t.section=g("section","menu__".concat(e," hidden"),"<h2>New Game Created!</h2>",n,["section",e])})),this.haveBackBtn=!1,this.text="New Game",this},saveGame:function e(){var t=this;return r()(this,e),s()(this,"sectionInit",(function(e,n){t.section?t.section.innerHTML="<h2>".concat(arguments.length<=2?void 0:arguments[2],"</h2>"):t.section=g("section","menu__".concat(e," hidden"),"<h2>".concat((arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:"Game Saved!","</h2>"),n,["section",e])})),this.haveBackBtn=!1,this.text="Save Game",this},loadGame:function e(){var t=this;return r()(this,e),s()(this,"sectionInit",(function(e,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];var a=o.find((function(e){return e.savedGames})),s=a.savedGames;t.savedGames=s,t.section=g("section","menu__".concat(e," load hidden"),null,n,["section",e]);var l=g("div","load__content",null,t.section);t.section.backBtn=g("div","load__back menu__back","Back",t.section,["action","back"],["section",e]);var c=g("h2","load__title","Saved Games: ",l);t.gamesCount=g("span","load__game-cnt",s.length,c);var u=g("h3","load__subtitle","Game: ",l);t.curLoadNum=s.length?1:0,t.currLoad=g("span","load__cur-game",t.curLoadNum?t.curLoadNum:"",u);var d=g("div","load__games game",null,l);t.prevGame=g("div","game__prev game__prev-inactive",null,d,["action","loadPrev"]),t.loadList=g("ul","game__list",null,d),t.nextGame=g("div","game__next".concat(s.length?"":" game__next-inactive"),null,d,["action","loadNext"]),t.loadListItems=[],t.fillLoadList(s),t.loadBtn=g("div","load__btb".concat(t.savedGames.length?"":" load__btb-disabled"),"Load Game",l,t.savedGames.length?["action","loadSelectedGame"]:[]),t.section.addEventListener("click",t.actionHandler)})),s()(this,"fillLoadList",(function(e){if(e&&0!==e.length){var n=0;e.forEach((function(e){var i=g("li","game__item",'<div class="item">\n                                    Time:\n                                    <span class="time">'.concat(e.timer.str,'</span>\n                                </div>\n                                <div class="item">\n                                    Moves:\n                                    <span class="moves">').concat(e.moves,'</span>\n                                </div>\n                         \n                              <div class="item">\n                                  Size:\n                                  <span class="size">').concat(e.type.size.name,'</span>\n                              </div>\n                              <div class="item">\n                                  Type:\n                                  <span class="type">').concat(e.type.type,"</span>\n                              </div>"),t.loadList,["loadIdx",n]);i.addEventListener("click",t.actionHandler),0===n&&i.classList.add("game__item-active"),t.loadListItems.push(i),n+=1}))}})),s()(this,"sectionUpdate",(function(){var e,n=_("pzlSettings",{});e=n&&n.savedGames?n.savedGames:[],t.gamesCount.textContent=e.length,t.curLoadNum=e.length?1:0,t.currLoad.textContent=t.curLoadNum?t.curLoadNum:"",e.length?(t.loadBtn.classList.remove("load__btb-disabled"),t.loadBtn.dataset.action="loadSelectedGame"):(t.loadBtn.classList.add("load__btb-disabled"),t.loadBtn.dataset.action=null),t.loadListItems.map((function(e){return e.remove()})),t.loadListItems=[],t.fillLoadList(e),t.showLoad(0)})),s()(this,"showLoad",(function(e){var n=t.curLoadNum-1+e;n>=t.loadListItems.length||n<0||(t.prevGame.classList.remove("game__prev-inactive"),t.nextGame.classList.remove("game__next-inactive"),0===n&&t.prevGame.classList.add("game__prev-inactive"),n===t.loadListItems.length-1&&t.nextGame.classList.add("game__next-inactive"),t.loadListItems.map((function(e){return e.classList.remove("game__item-active")})),t.loadListItems.find((function(e){return e.dataset.loadIdx===n.toString()})).classList.add("game__item-active"),t.curLoadNum+=e,t.currLoad.textContent=t.curLoadNum)})),s()(this,"setLoadedGame",(function(){0!==t.loadListItems.length&&(t.loadGameSettings=t.savedGames[t.curLoadNum-1])})),s()(this,"actionHandler",(function(e){var n=e.target.dataset.action;n&&(n.match(/loadPrev/)&&t.showLoad(-1),n.match(/loadNext/)&&t.showLoad(1),n.match(/loadSelectedGame/)&&t.setLoadedGame())})),this.haveBackBtn=!0,this.text="Load Game",this},bestScore:function e(){var t=this;return r()(this,e),s()(this,"sectionInit",(function(e,n){for(var i=[],o=arguments.length,r=new Array(o>2?o-2:0),a=2;a<o;a++)r[a-2]=arguments[a];r&&(i=r.find((function(e){return e.bestScore})).bestScore),t.bestScore=i,t.section=g("section","menu__".concat(e," score hidden"),null,n,["section",e]);var s=g("div","score__content",g("h2","score__title",t.text,null),t.section),l=g("div","score__table",null,s);return t.scoreTable=g("div","score__wrapper",null,l),t.section.backBtn=g("div","score_back back menu__back","Back",t.section,["action","back"],["section",e]),t.fillScoreTable(t.bestScore),t})),s()(this,"fillScoreTable",(function(e){if(e.length)for(var n=Object.keys(e[0]),i=function(i){var o=n[i];if("date"!==o){var r=g("div","score__col",null,t.scoreTable,["colname",o]),a=0;e.map((function(e){return e[o]})).forEach((function(e){0===a&&g("div","score__row",o,r),g("div","score__row",e,r),a+=1}))}},o=0;o<n.length;o+=1)i(o)})),s()(this,"sectionUpdate",(function(){var e,n=_("pzlSettings",{});e=n&&n.bestScore?n.bestScore:[],t.scoreTable.innerHTML="",e=e.sort((function(e,t){return e.moves>t.moves?1:e.moves<t.moves?-1:0})),t.fillScoreTable(e)})),this.haveBackBtn=!0,this.text="Best Score",this},rules:function e(){var t=this;return r()(this,e),s()(this,"sectionInit",(function(e,n){t.section=g("section","menu__".concat(e," hidden rules"),'<h1 class="rules__title">Rules</h1>',n,["section",e]);var i=g("div","rules__content",null,t.section);g("div","rules__info","The object of the puzzle is to place the tiles in order by making sliding moves that use the empty space. You can save your game and load it later. Or you can just use pause button. Also you can choose game field size of color in Settings",i),t.section.backBtn=g("div","rules__back menu__back","Back",t.section,["action","back"],["section",e])})),this.text="Rules",this.haveBackBtn=!0,this},settings:function e(){var t=this;return r()(this,e),s()(this,"sectionInit",(function(e,n){for(var i=arguments.length,o=new Array(i>2?i-2:0),r=2;r<i;r++)o[r-2]=arguments[r];var a=o.find((function(e){return e.gameSettimgs})),s=a.gameSettimgs;t.gameSettimgs=k({},s),t.section=g("section","menu__".concat(e," hidden settings"),'<h1 class="settings__title">Settings</h1>',n,["section",e]);var l=g("div","settings__content",null,t.section),c=g("div","settings__sizes","Field size:",l);t.selectSize=g("select","settings__select",null,c,["action","changeSize"]),z.fieldSizes.forEach((function(e){g("option",null,e.name,t.selectSize,["value",e.code],e.code===t.gameSettimgs.type.size.code?["selected",""]:[])}));var u=g("div","settings__type","Field type:",l);t.selectType=g("select","settings__select",null,u,["action","changeType"]),z.types.forEach((function(e){g("option",null,e,t.selectType,["value",e],e===t.gameSettimgs.type.type?["selected",""]:[])})),t.section.backBtn=g("div","load__back menu__back","Back",t.section,["action","back"],["section",e]),t.selectSize.addEventListener("change",t.actionHandler),t.selectType.addEventListener("change",t.actionHandler)})),s()(this,"actionHandler",(function(e){var n=e.target.dataset.action,i=e.target.options[e.target.selectedIndex].value;console.log("Settings actionHandler:    ".concat(n)),n&&(n.match(/changeSize/)&&(t.gameSettimgs.type.size=z.fieldSizes.find((function(e){return e.code===i}))),n.match(/changeType/)&&(t.gameSettimgs.type.type=i))})),this.text="Settings",this.haveBackBtn=!0,this},hideMenu:function e(){return r()(this,e),{text:"Exit"}}};var L=function(){function e(t,n){var i=this;return r()(this,e),s()(this,"generateLayout",(function(){i.menu=g("section","menu",null,i.parent),i.menu.wrapper=g("div","menu__wrapper",null,i.menu),i.menu.nav=g("nav","menu__nav",null,i.menu.wrapper),i.menu.nav.list=g("ul","menu__list",null,i.menu.nav),Object.keys(i.menuList).forEach((function(e){var t,n=i.menuList[e];n.elem=g("li","menu__item",n.text,i.menu.nav.list,["action",e]),i.menuList[e]&&i.menuList[e].sectionInit&&(t=i.menuList[e]).sectionInit.apply(t,[e,i.menu.wrapper].concat(h()(function(e){return e.match(/loadGame/)?[{savedGames:i.savedGames}]:e.match(/settings/)?[{gameSettimgs:i.gameSettimgs}]:e.match(/bestScore/)?[{bestScore:i.bestScore}]:[]}(e))))})),i.menu.addEventListener("click",i.actionHandler)})),s()(this,"show",(function(){i.menu.classList.add("menu-show"),i.menuList.saveGame.sectionInit(null,null,"Game Saved!")})),s()(this,"hide",(function(){i.menu.classList.remove("menu-show")})),s()(this,"backToMenu",(function(e){e.section.classList.add("hidden"),i.menu.nav.classList.remove("hidden")})),s()(this,"showMenuSection",(function(e){var t=i.menuList[e];t.section&&(t.section.classList.remove("hidden"),i.menu.nav.classList.add("hidden"),t.haveBackBtn||setTimeout((function(){return i.backToMenu(t)}),1500))})),s()(this,"actionHandler",(function(e){var t=e.target.dataset,n=t.action,o=t.section;n&&(n.match(/hideMenu/)&&i.hide(),n.match(/back/)&&i.backToMenu(i.menuList[o]),n.match(/newGame/)&&i.updateGameSettings(i.menuList.settings.gameSettimgs),n.match(/loadSelectedGame/)&&(i.updateGameSettings(i.menuList.loadGame.loadGameSettings),i.savedGames.length>0&&(i.menuList.saveGame.sectionInit(null,null,"Game Loaded!"),i.backToMenu(i.menuList.loadGame),i.showMenuSection("saveGame"))),i.menuList[n]&&(i.menuList[n].sectionUpdate&&i.menuList[n].sectionUpdate(),i.showMenuSection(n)))})),this.savedGames=t.savedGames,this.bestScore=t.bestScore,this.gameSettimgs={moves:0,timer:{value:0,str:"00:00"},type:{size:{code:"4",name:"4x4",count:16,size:4},type:"numberic"}},this.menuList={},Object.keys(S).forEach((function(e){i.menuList[e]=new S[e](e)})),this.parent=n,this.generateLayout(),this}return y()(e,[{key:"updateGameSettings",value:function(e){e&&(this.gameSettimgs.moves=e.moves,this.gameSettimgs.timer=e.timer,this.gameSettimgs.type.size=z.fieldSizes.find((function(t){return t.code===e.type.size.code})),this.gameSettimgs.type.type=e.type.type,this.gameSettimgs.items=e.items,this.gameSettimgs.pictureUrl=e.pictureUrl)}}]),e}(),M=function e(t){return r()(this,e),this.value=t,this.elem=g("div","puzzle__col",null,null,["numb",t]),this.elem.value=g("div","col",t,this.elem),this},E=function e(t){var n=this;return r()(this,e),s()(this,"popupClose",(function(){n.popup.classList.remove("popup-visilbe"),n.popup.remove()})),s()(this,"popupShow",(function(){n.popup.classList.add("popup-visilbe")})),this.popup=g("div","popup",null,null),this.popopupWrapper=g("div","popup__wrapper",g("div","popup__content",t,null),this.popup),document.body.prepend(this.popup),setTimeout(this.popupShow,1),setTimeout((function(){n.popopupWrapper.classList.add("hidding")}),4500),setTimeout(this.popupClose,6e3),this},G=new WeakMap,I=new WeakMap,T=new WeakMap,j=new WeakMap,O=new WeakMap,B=new WeakMap,C=new WeakMap,N=new WeakMap,P=new WeakMap,H=function e(t){var n=this;return r()(this,e),G.set(this,{writable:!0,value:function(){for(var e=0;e<n.length-1;e+=1)n.goal.push(e+1);n.goal.push(0)}}),I.set(this,{writable:!0,value:function(){for(var e=0,t=0;t<n.length;t+=1){for(var i=0,o=t+1;o<n.length;o+=1)n[t]>n[o]&&0!==n[t]&&0!==n[o]&&(i+=1);e+=i}return!(e%2)}}),s()(this,"init",(function(){return n.length=n.sourceArr.length,n.size=Math.pow(n.length,.5),n.infinity=1e3,n.result=[],c()(n,G).call(n),n})),T.set(this,{writable:!0,value:function(e){for(var t=0,i=0;i<n.length;i+=1){var o=e[i];if(0!==o){var r=o-1;t+=Math.abs(i%n.size-r%n.size)+Math.abs(Math.floor(i/n.size)-Math.floor(r/n.size))}}return t}}),j.set(this,{writable:!0,value:function(e,t){for(var i=0;i<n.length;i+=1)if(t[i]!==e[i])return!1;return!0}}),O.set(this,{writable:!0,value:function(e,t){for(var i=e.length-1;i>-1;i-=1)if(c()(n,j).call(n,e[i],t))return!0;return!1}}),B.set(this,{writable:!0,value:function(e){var t=e%n.size;return{row:Math.trunc(e/n.size),col:t,idx:e}}}),C.set(this,{writable:!0,value:function(e){var t=[],i=function(e,t,i){for(var o=[],r=0;r<n.length;r+=1)r===t?o.push(e[i]):r===i?o.push(e[t]):o.push(e[r]);return o},o=e.indexOf(0),r=c()(n,B).call(n,o),a=[];return r.col-1>-1&&(a=i(e,o,o-1),t.push({arr:a,movedNum:a[o]})),r.col+1<n.size&&(a=i(e,o,o+1),t.push({arr:a,movedNum:a[o]})),r.row-1>-1&&(a=i(e,o,o-n.size),t.push({arr:a,movedNum:a[o]})),r.row+1<n.size&&(a=i(e,o,o+n.size),t.push({arr:a,movedNum:a[o]})),t}}),N.set(this,{writable:!0,value:function(e,t,i){var o=e[e.length-1],r=t+c()(n,T).call(n,o);if(r>i)return r;if(c()(n,j).call(n,o,n.goal))return"FOUND";for(var a=n.infinity,s=c()(n,C).call(n,o),l=0;l<s.length;l+=1){var u=s[l];if(!c()(n,O).call(n,e,u.arr)){e.push(u.arr);var d=c()(n,N).call(n,e,t+1,i);if("FOUND"===d)return n.result.push(u.movedNum),"FOUND";d<a&&(a=d),e.pop()}}return a}}),P.set(this,{writable:!0,value:function(e){for(var t=c()(n,T).call(n,e);t<n.infinity;){var i=c()(n,N).call(n,[e],0,t);if("FOUND"===i)return"FOUND";if(i===n.infinity)return"NOT FOUND";t=i}return"NOT FOUND"}}),s()(this,"solve",(function(){return c()(n,I).call(n)?(c()(n,P).call(n,n.sourceArr),n.result.reverse()):[]})),this.goal=[],this.sourceArr=t,this},A=new WeakMap,D=function e(){var t=this;r()(this,e),s()(this,"generateLayout",(function(){var e=v.create("main","puzzle",null,null);t.main=v.create("div","puzzle__wrapper",null,e),t.info=v.create("div","puzzle__info info",null,t.main),t.info.timer=v.create("span","time",t.settings.timer.toString(),null),t.info.timer.value=t.settings.timer,t.info.timer.holder=v.create("div","info__time",t.info.timer,t.info),t.info.timer.updateTimer=function(){var e=function(e){return(parseInt(e,10)<10?"0":"")+e},t=Math.trunc(this.value/60),n=this.value%60;this.textContent="".concat(e(t),":").concat(e(n))},t.info.moves={},t.info.moves.holder=v.create("div","info__moves","Moves: ",t.info),t.info.moves=v.create("span","moves",t.settings.moves.toString(),t.info.moves.holder),t.info.moves.value=t.settings.moves,t.info.moves.addMove=function(){t.info.moves.value+=1,t.info.moves.textContent=t.info.moves.value},t.info.menu=v.create("div","info__menu","Menu",t.info,["action","menu"]);var n=v.create("div","puzzle__gamefield",null,t.main);t.puzzle=v.create("div","puzzle__field",null,n,["cellsCount",t.settings.items.length]),t.puzzle.wrapper=n,t.puzzleItems=[],t.updatePuzzle(),t.footer=v.create("div","puzzle__footer",null,t.main),t.isPlaySound=!0;var i=v.create("div","puzzle__sound","Sound: ",t.footer);return t.footer.sound=v.create("i","material-icons","volume_up",i,["action","soundOff"]),t.audio=v.create("audio","puzzle__audio","volume_up",i,["src","./assets/sounds/moew2.mp3"]),t.picture={},t.picture.item=v.create("div","puzzle__picture",null,t.footer),v.create("div","puzzle__solver","Solve this!",t.footer,["action","makeSolve"]),document.body.prepend(e),t.puzzle.addEventListener("mousedown",t.mouseDownHandler),t.puzzle.addEventListener("mouseup",t.mouseUpHandler),t.startTimer(),t})),s()(this,"getCurGameType",(function(){return t.settings.types[t.settings.currTypeIdx]})),s()(this,"drowPicture",(function(e){var n=Math.floor(150*Math.random())+1,i=t.puzzle.clientWidth/Math.pow(t.puzzleItems.length,.5);t.picture.url=e?t.picture.url:"https://raw.githubusercontent.com/irinainina/image-data/master/box/".concat(n,".jpg"),t.puzzleItems.forEach((function(e){var n=e.elem.value,o=parseInt(e.value,10);if(o){var r=function(e){var n=Math.pow(t.puzzleItems.length,.5),i=e%n;return{row:Math.trunc(e/n),col:i,idx:e}}(o);n.style.background="url('".concat(t.picture.url,"')"),n.style.backgroundSize="".concat(t.puzzle.clientWidth,"px"),n.style.backgroundPosition="left -".concat(r.col*i,"px top -").concat(r.row*i,"px")}}))})),s()(this,"updatePuzzle",(function(e,n){var i=function(e){e.forEach((function(e){var n=new M(e);"0"===e&&(n.elem.value.innerHTML="",t.zeroItem=n),t.puzzleItems.push(n),t.puzzle.append(n.elem)}))};t.isOnSolve=!1;var o=!1;if(0===t.puzzleItems.length)i(t.settings.items);else{var r=function(){t.puzzle.innerHTML="",t.puzzleItems.map((function(e){return e.elem.remove()})),t.puzzleItems=[]};e&&"loadSelectedGame"===n?(r(),i(e),o=!0):"newGame"===n&&(r(),t.settings.items=v.getNewMatrix(t.settings.fieldSizes.find((function(e){return e.code===t.settings.fieldSizeCode})).count),i(t.settings.items))}"picture"===t.getCurGameType()&&t.drowPicture(o),t.solveArr=[];for(var a=0;a<t.puzzleItems.length;a+=1)t.solveArr.push(a===t.puzzleItems.length-1?"0":(a+1).toString());t.isEnd=!1})),s()(this,"startTimer",(function(){t.isPoused||t.isEnd||(t.info.timer.value+=1,t.info.timer.updateTimer()),setTimeout((function(){return t.startTimer()}),1e3)})),A.set(this,{writable:!0,value:function(e){var t=e.getBoundingClientRect();return{top:t.top,left:t.left}}}),s()(this,"mouseDownHandler",(function(e){if(!t.isOnSolve){var n=e.target.closest(".puzzle__col");if(n){var i=t.puzzleItems.find((function(e){return e.value===n.dataset.numb}));if(i&&"0"!==i.value&&!t.isEnd){var o="".concat(i.elem.offsetHeight,"px"),r="".concat(i.elem.offsetWidth,"px"),a=c()(t,A).call(t,n),s=e.clientX-a.left,l=e.clientY-a.top;t.isDragged=!1;var u=function(e){var n,a;n=e.pageX,a=e.pageY,t.isDragged=!0,i.elem.style.left="".concat(n-s,"px"),i.elem.style.top="".concat(a-l,"px"),i.elem.style.height=o,i.elem.style.width=r,t.isDragged&&!t.emptyElem&&(t.movedElem=i.elem,t.emptyElem=v.create("div","puzzle__col-null",null,null),t.emptyElem=t.puzzle.insertBefore(t.emptyElem,i.elem),i.elem.classList.add("drag"))};document.addEventListener("mousemove",u),i.elem.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",e)}))}}}})),s()(this,"mouseUpHandler",(function(e){if(!t.isOnSolve&&!t.isEnd)if(t.isDragged){var n=t.movedElem.getBoundingClientRect(),i={x:n.x+n.width/2,y:n.y+n.height/2},o=t.zeroItem.elem.getBoundingClientRect(),r=!1;i.x>=o.x&&i.x<=o.x+o.width&&i.y>=o.y&&i.y<=o.y+o.height&&(r=!0),t.movedElem.classList.remove("drag"),r?t.makeMove(t.movedElem)&&(t.puzzle.insertBefore(t.movedElem,t.zeroItem.elem),t.puzzle.insertBefore(t.zeroItem.elem,t.emptyElem)):t.puzzle.insertBefore(t.emptyElem,t.movedElem),t.emptyElem.remove(),t.movedElem.style="",t.isDragged=!1,t.movedElem=null,t.emptyElem=null}else{var a=e.target.closest(".puzzle__col");t.makeMove(a)&&(t.playSound(),t.emptyElem=v.create("div","puzzle__col-null",null,null),t.puzzle.insertBefore(t.emptyElem,a),t.puzzle.replaceChild(a,t.zeroItem.elem),t.puzzle.insertBefore(t.zeroItem.elem,t.emptyElem),t.emptyElem.remove(),t.emptyElem=null,t.isFinish())}})),s()(this,"getPos",(function(e,t){var n=0,i=0;for(n=0;n<e.length;n+=1){var o=e[n];try{i=o.findIndex((function(e){return e.value===t.dataset.numb}))}catch(e){return!1}if(i>=0)break}return{row:n,col:i,idx:e.length*n+i}})),s()(this,"makeMove",(function(e){if(t.isEnd)return!1;if(!e)return!1;var n=t.settings.fieldSizes.find((function(e){return e.code===t.settings.fieldSizeCode})).size,i=function(e,t){return e.reduce((function(e,n,i,o){return i%t?e:e.concat([o.slice(i,i+t)])}),[])}(t.puzzleItems,n),o=t.getPos(i,e),r=t.getPos(i,t.zeroItem.elem);if(o.row+1===r.row&&o.col===r.col||o.row-1===r.row&&o.col===r.col||o.col+1===r.col&&o.row===r.row||o.col-1===r.col&&o.row===r.row){var a=t.puzzleItems,s=[a[r.idx],a[o.idx]];return a[o.idx]=s[0],a[r.idx]=s[1],t.info.moves.addMove(),!0}return!1})),s()(this,"saveGame",(function(){var e={};e.items=t.puzzleItems.map((function(e){return e.value})),e.moves=t.info.moves.value,e.timer={value:t.info.timer.value,str:t.info.timer.textContent},e.type={size:t.settings.fieldSizes.find((function(e){return e.code===t.settings.fieldSizeCode})),type:t.settings.types[t.settings.currTypeIdx]},e.pictureUrl=t.picture.url,t.settings.savedGames.unshift(e);var n=_("pzlSettings",{});n.savedGames=t.settings.savedGames,b("pzlSettings",n)})),s()(this,"showMenu",(function(){t.isPoused=!0,t.main.classList.add("position-relative"),t.menu.show()})),s()(this,"t",void 0),s()(this,"hideMenu",(function(){t.isPoused=!1,t.main.classList.remove("position-relative")})),s()(this,"preclickHandler",(function(e){var n=e.target.dataset.action;t.actionHandler(n)})),s()(this,"prePlzHandler",(function(e){var n=e.detail.action;t.actionHandler(n)})),s()(this,"loadGame",(function(e){var n=t.menu.gameSettimgs;setTimeout((function(){t.menu.hide(),t.hideMenu()}),1500),t.info.timer.value=n.timer.value,t.info.timer.innerHTML=n.timer.str,t.info.moves.value=n.moves,t.info.moves.innerHTML=n.moves,t.settings.fieldSizeCode=n.type.size.code,t.puzzle.dataset.cellsCount=n.type.size.count,t.settings.currTypeIdx=t.settings.types.indexOf(n.type.type),t.picture.url=n.pictureUrl,t.updatePuzzle(n.items,e),t.initPictureBtn()})),s()(this,"saveScore",(function(){var e=_("pzlSettings",{}),n=[];e&&e.bestScore&&(n=e.bestScore);var i={date:(new Date).yyyymmddhhmmss(),size:t.settings.fieldSizes.find((function(e){return e.code===t.settings.fieldSizeCode})).name,moves:t.info.moves.value,time:t.info.timer.textContent};return n.push(i),n.sort((function(e,t){return e.moves>t.moves?1:e.moves<t.moves?-1:0})),e.bestScore=n.slice(0,10),b("pzlSettings",e),i})),s()(this,"showWinMessage",(function(e){t.isEnd=!0,new E("<h1>Congratulations!</h1> <h2>You solved the puzzle in ".concat(e.time," minutes and ").concat(e.moves," moves!</h2>"))})),s()(this,"isFinish",(function(){var e=t.solveArr,n=t.puzzleItems.map((function(e){return e.value}));if(!e.reduce((function(e,t,i){return e+(t===n[i]?0:1)}),0)){t.isEnd=!0;var i=t.saveScore();t.showWinMessage(i)}})),s()(this,"soundOff",(function(){t.isPlaySound=!t.isPlaySound,t.footer.sound.textContent=t.isPlaySound?"volume_up":"volume_off"})),s()(this,"playSound",(function(){t.isPlaySound&&t.audio.play()})),s()(this,"makeMoveByNum",(function(e,n){var i=t.puzzleItems.find((function(t){return t.value===e.toString()})).elem;i.classList.add("puzzle__col-active"),setTimeout((function(){t.makeMove(i)&&(t.emptyElem=v.create("div","puzzle__col-null",null,null),t.puzzle.insertBefore(t.emptyElem,i),t.puzzle.replaceChild(i,t.zeroItem.elem),t.puzzle.insertBefore(t.zeroItem.elem,t.emptyElem),t.emptyElem.remove(),t.emptyElem=null),t.puzzleItems.map((function(e){return e.elem.classList.remove("puzzle__col-active")}))}),n-100)})),s()(this,"makeSolve",(function(){t.isOnSolve=!0;var e=t.puzzleItems.map((function(e){return parseInt(e.value,10)})),n=new H(e).init().solve(),i=0;n.forEach((function(e){setTimeout((function(){return t.makeMoveByNum(e,750)}),750*i),i+=1})),i+=1,setTimeout((function(){t.puzzleItems.map((function(e){return e.elem.classList.remove("puzzle__col-active")})),t.isFinish()}),750*i)})),s()(this,"showPicture",(function(){new E('<img class="showed__picture" src=\''.concat(t.picture.url,'\' alt="puzzle-picture">'))})),s()(this,"initPictureBtn",(function(){"picture"===t.getCurGameType()?t.picture.btn||(t.picture.btn=v.create("div","show_picture","Show original picture",t.picture.item,["action","showPicture"])):(t.picture.item.innerHTML="",t.picture.url=null)})),s()(this,"actionHandler",(function(e){e&&(e.match(/menu/)&&t.showMenu(),e.match(/hideMenu/)&&t.hideMenu(),e.match(/save/)&&t.saveGame(),e.match(/loadSelectedGame|newGame/)&&t.loadGame(e),e.match(/soundOff/)&&t.soundOff(),e.match(/makeSolve/)&&t.makeSolve(),e.match(/showPicture/)&&t.showPicture())})),v.dateInit();var n=z,i=_("pzlSettings",{});return i&&i.savedGames&&i.savedGames.length>0&&(n.savedGames=i.savedGames),i&&i.bestScore&&i.bestScore.length>0&&(n.bestScore=i.bestScore),this.settings=n,0===this.settings.items.length&&(this.settings.items=v.getNewMatrix(this.settings.fieldSizes.find((function(e){return e.code===t.settings.fieldSizeCode})).count)),this.isPoused=!1,this.menu={},this.solveArr=[],this.isEnd=!1,this.generateLayout(),this.menu=new L(this.settings,this.main),this.main.addEventListener("click",this.preclickHandler),document.addEventListener("pzlAction",this.prePlzHandler),this};document.addEventListener("DOMContentLoaded",(function(){new D}))})()})();